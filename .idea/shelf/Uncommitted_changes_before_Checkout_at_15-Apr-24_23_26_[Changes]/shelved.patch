Index: src/main/java/vidmot/goldrush/ViewSwitcher.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package vidmot.goldrush;\r\n\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\n\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class ViewSwitcher {\r\n\r\n    private static final Map<View, Parent> cache = new HashMap<>();\r\n    // viðbót fyrir controllers\r\n    private static final Map<View, Object> controllers = new HashMap<>();\r\n    private static Scene scene;\r\n    private static View lastView;\r\n    private static View currentView;\r\n\r\n    public static void setScene(Scene scene){\r\n        ViewSwitcher.scene = scene;\r\n    }\r\n\r\n    /**\r\n     * Færir notandann á milli mismunandi valmynda/fxml skráa\r\n     */\r\n    public static void switchTo(View view){\r\n        if (scene == null){\r\n            System.out.println(\"No scene set\");\r\n            return;\r\n        }\r\n\r\n        try{\r\n            Parent root;\r\n            if (cache.containsKey(view)){\r\n                System.out.println(\"Loading from cache\");\r\n                root = cache.get(view);\r\n            } else {\r\n                System.out.println(\"Loading from FXML\");\r\n                FXMLLoader loader = new FXMLLoader(ViewSwitcher.class.getResource(view.getFileName()));\r\n                root = loader.load();\r\n                cache.put(view, root);\r\n                controllers.put(view, loader.getController());\r\n                System.out.println(view);\r\n            }\r\n            lastView = currentView;\r\n            currentView = view;\r\n            scene.setRoot(root);\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Flettir upp hvaða fxml skrá notandinn er á\r\n     */\r\n    public static Object lookup(View v) {\r\n        return controllers.get(v);\r\n    }\r\n    /**\r\n     * Flettir upp hvaða fxml skrá notandinn var síðast á\r\n     * @return síðasta fxml skráin\r\n     */\r\n    public static View getLastView() {\r\n        return lastView;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/vidmot/goldrush/ViewSwitcher.java b/src/main/java/vidmot/goldrush/ViewSwitcher.java
--- a/src/main/java/vidmot/goldrush/ViewSwitcher.java	(revision d9c4f06f739acc8b51a8f43e467b9c4055f585f5)
+++ b/src/main/java/vidmot/goldrush/ViewSwitcher.java	(date 1713223220093)
@@ -11,7 +11,6 @@
 public class ViewSwitcher {
 
     private static final Map<View, Parent> cache = new HashMap<>();
-    // viðbót fyrir controllers
     private static final Map<View, Object> controllers = new HashMap<>();
     private static Scene scene;
     private static View lastView;
